# Организация Git-репозиториев

Каждый проект (функционально обособленный модуль) следует располагать в отдельном репозотории.
Использование [монорепозиториев](https://ru.wikipedia.org/wiki/%D0%9C%D0%BE%D0%BD%D0%BE%D1%80%D0%B5%D0%BF%D0%BE%D0%B7%D0%B8%D1%82%D0%BE%D1%80%D0%B8%D0%B9) не приветствуется.
Для группировки репозиториев, относящихся к одной системе или подсистеме, используйте группы и подгруппы в GitLab.

## Структура репозитория

```text
app_name/
├── .images/
│   ├── app/
│   │   ├── Dockerfile
│   │   ├── entrypoint.sh
│   │   └── keep-alive.sh
│   ├── sources/
│   │   ├── Dockerfile
│   │   └── keep-alive.sh
│   └── utility_name/
│       ├── Dockerfile
│   │   └── ...
├── sources/
│   ├── src/
│   ├── package.json
│   └── yarn.lock
├── .dockerignore
├── .env
├── .gitignore
├── .gitlab-ci.yml
├── Makefile
├── README.md
└── docker-compose.yml
```

В корневой папке проекта располагаются папки `.images`, `sources` и инфраструктрные файлы.

Внутри папки `.images` располагаются папки с файлами образов. В большинстве случаев там будет только одна папка:
`app`, если приложение распространяется как полноценный независимый Docker-образ,
или `sources`, если в образ включаются только исходные коды, которые при развёртывании монтируются к базовому образу.
В папках образов также содержатся следующие скрипты _**entrypoint.sh**_, в котором описывается точка входа в приложение для производственного режима,
и _**keep-alive.sh**_, в котором описывается точка входа в приложение для режима отладки или точка входа для контейнера с исходными кодами.

Все исходные коды, в том числе файлы с описанием используемых зависисимостей и конфигурационные файлы проекта,
должны располагаться исключительно в папке `sources`.

Инфраструктурные файлы:

- [.dockerignore](https://docs.docker.com/engine/reference/builder/#dockerignore-file) — необходим для уточнения контекста сборки Docker, позволяет указать файл, которые не должны попасть в образ;
- **.env** — файл с переменными окружения, должен быть внесён в _**.dockerignore**_ ;
- [.gitlab-ci.yml](https://docs.gitlab.com/ee/ci/yaml/gitlab_ci_yaml.html) — файл описания конвейера GitLab;
- [.gitignore](https://git-scm.com/docs/gitignore) — отключение отслеживание файлов системой контроля версий;
- [Makefile](https://ru.wikipedia.org/wiki/Makefile) — файл с описанием запуска, сборки, развёртывания и т.д.;
- [README.md](https://www.markdownguide.org/cheat-sheet/) — файл на языке разметки Markdown, содержит документацию к проекту: описания _**.env**_, _**Makefile**_, _**docker-compose.yml**_;
- [docker-compose.yml](https://docs.docker.com/compose/) — сценарий запуска контейнеров проекта, необходим только при ведении разработки в Docker.

## Описание Makefile

Здесь будут описаны обязательные команды и как установить на различные ОС.

## Версионирование

Здесь будет описана логика нумерации версий и работа с тегами в гите

## Deploy репозиторий

Здесь будет описан репозиторий, который служит для развёртывание группы проектов
